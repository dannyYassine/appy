var cov_sgy7scncl=function(){var path='/Users/dannyyassine/Documents/dev/node_shell/src/server.js',hash='7484a66f109514ba5d2aab6dbfaf6fb346604b4e',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/dannyyassine/Documents/dev/node_shell/src/server.js',statementMap:{'0':{start:{line:5,column:18},end:{line:5,column:36}},'1':{start:{line:6,column:18},end:{line:6,column:27}},'2':{start:{line:7,column:17},end:{line:7,column:39}},'3':{start:{line:8,column:9},end:{line:8,column:22}},'4':{start:{line:9,column:15},end:{line:9,column:34}},'5':{start:{line:10,column:11},end:{line:10,column:26}},'6':{start:{line:11,column:22},end:{line:11,column:48}},'7':{start:{line:12,column:27},end:{line:12,column:76}},'8':{start:{line:16,column:0},end:{line:16,column:63}},'9':{start:{line:17,column:0},end:{line:17,column:61}},'10':{start:{line:18,column:0},end:{line:18,column:62}},'11':{start:{line:19,column:0},end:{line:19,column:52}},'12':{start:{line:20,column:0},end:{line:20,column:27}},'13':{start:{line:22,column:0},end:{line:22,column:25}},'14':{start:{line:23,column:0},end:{line:23,column:61}},'15':{start:{line:25,column:0},end:{line:28,column:3}},'16':{start:{line:31,column:4},end:{line:34,column:7}},'17':{start:{line:32,column:8},end:{line:32,column:28}},'18':{start:{line:33,column:8},end:{line:33,column:17}},'19':{start:{line:38,column:4},end:{line:40,column:7}},'20':{start:{line:39,column:8},end:{line:39,column:17}},'21':{start:{line:43,column:0},end:{line:49,column:3}},'22':{start:{line:44,column:4},end:{line:48,column:7}},'23':{start:{line:45,column:25},end:{line:45,column:64}},'24':{start:{line:46,column:8},end:{line:46,column:31}},'25':{start:{line:47,column:8},end:{line:47,column:48}},'26':{start:{line:51,column:0},end:{line:79,column:3}},'27':{start:{line:53,column:4},end:{line:53,column:19}},'28':{start:{line:55,column:18},end:{line:55,column:48}},'29':{start:{line:56,column:18},end:{line:58,column:6}},'30':{start:{line:60,column:4},end:{line:66,column:7}},'31':{start:{line:62,column:8},end:{line:63,column:11}},'32':{start:{line:64,column:8},end:{line:65,column:11}},'33':{start:{line:68,column:4},end:{line:70,column:7}},'34':{start:{line:72,column:4},end:{line:74,column:7}},'35':{start:{line:73,column:8},end:{line:73,column:73}},'36':{start:{line:75,column:4},end:{line:75,column:27}},'37':{start:{line:76,column:4},end:{line:76,column:23}},'38':{start:{line:77,column:4},end:{line:77,column:52}},'39':{start:{line:81,column:0},end:{line:87,column:3}},'40':{start:{line:82,column:4},end:{line:86,column:7}},'41':{start:{line:83,column:8},end:{line:84,column:38}},'42':{start:{line:84,column:12},end:{line:84,column:38}},'43':{start:{line:85,column:8},end:{line:85,column:78}},'44':{start:{line:89,column:0},end:{line:97,column:3}},'45':{start:{line:90,column:4},end:{line:96,column:7}},'46':{start:{line:91,column:8},end:{line:94,column:15}},'47':{start:{line:92,column:12},end:{line:94,column:15}},'48':{start:{line:93,column:16},end:{line:93,column:25}},'49':{start:{line:95,column:8},end:{line:95,column:51}},'50':{start:{line:100,column:0},end:{line:108,column:3}},'51':{start:{line:101,column:4},end:{line:107,column:7}},'52':{start:{line:102,column:8},end:{line:105,column:15}},'53':{start:{line:103,column:12},end:{line:105,column:15}},'54':{start:{line:104,column:16},end:{line:104,column:25}},'55':{start:{line:106,column:8},end:{line:106,column:78}},'56':{start:{line:110,column:0},end:{line:121,column:3}},'57':{start:{line:111,column:4},end:{line:120,column:7}},'58':{start:{line:112,column:8},end:{line:115,column:15}},'59':{start:{line:113,column:12},end:{line:115,column:15}},'60':{start:{line:114,column:16},end:{line:114,column:25}},'61':{start:{line:116,column:8},end:{line:119,column:11}},'62':{start:{line:117,column:29},end:{line:117,column:45}},'63':{start:{line:118,column:12},end:{line:118,column:95}},'64':{start:{line:123,column:0},end:{line:126,column:3}},'65':{start:{line:125,column:4},end:{line:125,column:32}},'66':{start:{line:128,column:0},end:{line:132,column:3}},'67':{start:{line:129,column:4},end:{line:131,column:7}},'68':{start:{line:130,column:8},end:{line:130,column:70}},'69':{start:{line:134,column:0},end:{line:140,column:3}},'70':{start:{line:135,column:4},end:{line:139,column:7}},'71':{start:{line:136,column:8},end:{line:138,column:11}},'72':{start:{line:137,column:12},end:{line:137,column:75}},'73':{start:{line:142,column:0},end:{line:196,column:3}},'74':{start:{line:144,column:4},end:{line:195,column:7}},'75':{start:{line:145,column:25},end:{line:145,column:46}},'76':{start:{line:147,column:8},end:{line:150,column:9}},'77':{start:{line:148,column:12},end:{line:148,column:75}},'78':{start:{line:149,column:12},end:{line:149,column:19}},'79':{start:{line:152,column:8},end:{line:154,column:11}},'80':{start:{line:153,column:12},end:{line:153,column:21}},'81':{start:{line:155,column:8},end:{line:157,column:11}},'82':{start:{line:156,column:12},end:{line:156,column:21}},'83':{start:{line:159,column:8},end:{line:194,column:11}},'84':{start:{line:160,column:26},end:{line:160,column:56}},'85':{start:{line:161,column:23},end:{line:162,column:14}},'86':{start:{line:163,column:12},end:{line:168,column:15}},'87':{start:{line:164,column:16},end:{line:165,column:19}},'88':{start:{line:166,column:16},end:{line:167,column:19}},'89':{start:{line:170,column:12},end:{line:175,column:15}},'90':{start:{line:171,column:16},end:{line:172,column:19}},'91':{start:{line:173,column:16},end:{line:174,column:19}},'92':{start:{line:177,column:12},end:{line:187,column:15}},'93':{start:{line:178,column:16},end:{line:179,column:19}},'94':{start:{line:180,column:16},end:{line:181,column:19}},'95':{start:{line:182,column:16},end:{line:186,column:19}},'96':{start:{line:183,column:37},end:{line:183,column:53}},'97':{start:{line:184,column:20},end:{line:184,column:61}},'98':{start:{line:185,column:20},end:{line:185,column:76}},'99':{start:{line:189,column:12},end:{line:189,column:48}},'100':{start:{line:190,column:12},end:{line:190,column:52}},'101':{start:{line:191,column:12},end:{line:191,column:72}},'102':{start:{line:193,column:12},end:{line:193,column:75}},'103':{start:{line:198,column:0},end:{line:209,column:3}},'104':{start:{line:199,column:17},end:{line:199,column:46}},'105':{start:{line:200,column:4},end:{line:208,column:7}},'106':{start:{line:201,column:8},end:{line:201,column:43}},'107':{start:{line:202,column:8},end:{line:207,column:11}},'108':{start:{line:203,column:29},end:{line:203,column:45}},'109':{start:{line:204,column:12},end:{line:204,column:53}},'110':{start:{line:205,column:12},end:{line:205,column:72}},'111':{start:{line:206,column:12},end:{line:206,column:39}},'112':{start:{line:211,column:0},end:{line:213,column:3}},'113':{start:{line:212,column:4},end:{line:212,column:83}},'114':{start:{line:215,column:0},end:{line:215,column:42}},'115':{start:{line:218,column:17},end:{line:224,column:6}},'116':{start:{line:219,column:8},end:{line:219,column:28}},'117':{start:{line:220,column:8},end:{line:220,column:66}},'118':{start:{line:221,column:8},end:{line:221,column:73}},'119':{start:{line:222,column:8},end:{line:222,column:66}},'120':{start:{line:223,column:8},end:{line:223,column:28}},'121':{start:{line:225,column:4},end:{line:225,column:15}},'122':{start:{line:228,column:0},end:{line:233,column:1}},'123':{start:{line:230,column:4},end:{line:230,column:18}},'124':{start:{line:232,column:4},end:{line:232,column:25}}},fnMap:{'0':{name:'resetLogFile',decl:{start:{line:30,column:9},end:{line:30,column:21}},loc:{start:{line:30,column:24},end:{line:35,column:1}},line:30},'1':{name:'(anonymous_1)',decl:{start:{line:31,column:38},end:{line:31,column:39}},loc:{start:{line:31,column:48},end:{line:34,column:5}},line:31},'2':{name:'resetProgressiveLogFile',decl:{start:{line:37,column:9},end:{line:37,column:32}},loc:{start:{line:37,column:35},end:{line:41,column:1}},line:37},'3':{name:'(anonymous_3)',decl:{start:{line:38,column:50},end:{line:38,column:51}},loc:{start:{line:38,column:60},end:{line:40,column:5}},line:38},'4':{name:'(anonymous_4)',decl:{start:{line:43,column:21},end:{line:43,column:22}},loc:{start:{line:43,column:40},end:{line:49,column:1}},line:43},'5':{name:'(anonymous_5)',decl:{start:{line:44,column:35},end:{line:44,column:36}},loc:{start:{line:44,column:52},end:{line:48,column:5}},line:44},'6':{name:'(anonymous_6)',decl:{start:{line:51,column:16},end:{line:51,column:17}},loc:{start:{line:51,column:35},end:{line:79,column:1}},line:51},'7':{name:'(anonymous_7)',decl:{start:{line:60,column:28},end:{line:60,column:29}},loc:{start:{line:60,column:44},end:{line:66,column:5}},line:60},'8':{name:'(anonymous_8)',decl:{start:{line:62,column:56},end:{line:62,column:57}},loc:{start:{line:62,column:65},end:{line:63,column:9}},line:62},'9':{name:'(anonymous_9)',decl:{start:{line:64,column:68},end:{line:64,column:69}},loc:{start:{line:64,column:77},end:{line:65,column:9}},line:64},'10':{name:'(anonymous_10)',decl:{start:{line:68,column:28},end:{line:68,column:29}},loc:{start:{line:68,column:44},end:{line:70,column:5}},line:68},'11':{name:'(anonymous_11)',decl:{start:{line:72,column:21},end:{line:72,column:22}},loc:{start:{line:72,column:37},end:{line:74,column:5}},line:72},'12':{name:'(anonymous_12)',decl:{start:{line:81,column:20},end:{line:81,column:21}},loc:{start:{line:81,column:43},end:{line:87,column:1}},line:81},'13':{name:'(anonymous_13)',decl:{start:{line:82,column:33},end:{line:82,column:34}},loc:{start:{line:82,column:50},end:{line:86,column:5}},line:82},'14':{name:'(anonymous_14)',decl:{start:{line:89,column:20},end:{line:89,column:21}},loc:{start:{line:89,column:43},end:{line:97,column:1}},line:89},'15':{name:'(anonymous_15)',decl:{start:{line:90,column:37},end:{line:90,column:38}},loc:{start:{line:90,column:54},end:{line:96,column:5}},line:90},'16':{name:'(anonymous_16)',decl:{start:{line:92,column:62},end:{line:92,column:63}},loc:{start:{line:92,column:72},end:{line:94,column:13}},line:92},'17':{name:'(anonymous_17)',decl:{start:{line:100,column:28},end:{line:100,column:29}},loc:{start:{line:100,column:51},end:{line:108,column:1}},line:100},'18':{name:'(anonymous_18)',decl:{start:{line:101,column:45},end:{line:101,column:46}},loc:{start:{line:101,column:62},end:{line:107,column:5}},line:101},'19':{name:'(anonymous_19)',decl:{start:{line:103,column:58},end:{line:103,column:59}},loc:{start:{line:103,column:68},end:{line:105,column:13}},line:103},'20':{name:'(anonymous_20)',decl:{start:{line:110,column:32},end:{line:110,column:33}},loc:{start:{line:110,column:55},end:{line:121,column:1}},line:110},'21':{name:'(anonymous_21)',decl:{start:{line:111,column:49},end:{line:111,column:50}},loc:{start:{line:111,column:67},end:{line:120,column:5}},line:111},'22':{name:'(anonymous_22)',decl:{start:{line:113,column:62},end:{line:113,column:63}},loc:{start:{line:113,column:72},end:{line:115,column:13}},line:113},'23':{name:'(anonymous_23)',decl:{start:{line:116,column:39},end:{line:116,column:40}},loc:{start:{line:116,column:56},end:{line:119,column:9}},line:116},'24':{name:'(anonymous_24)',decl:{start:{line:123,column:16},end:{line:123,column:17}},loc:{start:{line:123,column:39},end:{line:126,column:1}},line:123},'25':{name:'(anonymous_25)',decl:{start:{line:128,column:18},end:{line:128,column:19}},loc:{start:{line:128,column:41},end:{line:132,column:1}},line:128},'26':{name:'(anonymous_26)',decl:{start:{line:129,column:35},end:{line:129,column:36}},loc:{start:{line:129,column:52},end:{line:131,column:5}},line:129},'27':{name:'(anonymous_27)',decl:{start:{line:134,column:27},end:{line:134,column:28}},loc:{start:{line:134,column:50},end:{line:140,column:1}},line:134},'28':{name:'(anonymous_28)',decl:{start:{line:135,column:40},end:{line:135,column:41}},loc:{start:{line:135,column:49},end:{line:139,column:5}},line:135},'29':{name:'(anonymous_29)',decl:{start:{line:136,column:60},end:{line:136,column:61}},loc:{start:{line:136,column:69},end:{line:138,column:9}},line:136},'30':{name:'(anonymous_30)',decl:{start:{line:142,column:23},end:{line:142,column:24}},loc:{start:{line:142,column:46},end:{line:196,column:1}},line:142},'31':{name:'(anonymous_31)',decl:{start:{line:144,column:35},end:{line:144,column:36}},loc:{start:{line:144,column:57},end:{line:195,column:5}},line:144},'32':{name:'(anonymous_32)',decl:{start:{line:152,column:46},end:{line:152,column:47}},loc:{start:{line:152,column:56},end:{line:154,column:9}},line:152},'33':{name:'(anonymous_33)',decl:{start:{line:155,column:58},end:{line:155,column:59}},loc:{start:{line:155,column:68},end:{line:157,column:9}},line:155},'34':{name:'(anonymous_34)',decl:{start:{line:159,column:39},end:{line:159,column:40}},loc:{start:{line:159,column:56},end:{line:194,column:9}},line:159},'35':{name:'(anonymous_35)',decl:{start:{line:163,column:33},end:{line:163,column:34}},loc:{start:{line:163,column:49},end:{line:168,column:13}},line:163},'36':{name:'(anonymous_36)',decl:{start:{line:164,column:68},end:{line:164,column:69}},loc:{start:{line:164,column:77},end:{line:165,column:17}},line:164},'37':{name:'(anonymous_37)',decl:{start:{line:166,column:80},end:{line:166,column:81}},loc:{start:{line:166,column:89},end:{line:167,column:17}},line:166},'38':{name:'(anonymous_38)',decl:{start:{line:170,column:33},end:{line:170,column:34}},loc:{start:{line:170,column:49},end:{line:175,column:13}},line:170},'39':{name:'(anonymous_39)',decl:{start:{line:171,column:68},end:{line:171,column:69}},loc:{start:{line:171,column:77},end:{line:172,column:17}},line:171},'40':{name:'(anonymous_40)',decl:{start:{line:173,column:80},end:{line:173,column:81}},loc:{start:{line:173,column:89},end:{line:174,column:17}},line:173},'41':{name:'(anonymous_41)',decl:{start:{line:177,column:26},end:{line:177,column:27}},loc:{start:{line:177,column:42},end:{line:187,column:13}},line:177},'42':{name:'(anonymous_42)',decl:{start:{line:178,column:68},end:{line:178,column:69}},loc:{start:{line:178,column:77},end:{line:179,column:17}},line:178},'43':{name:'(anonymous_43)',decl:{start:{line:180,column:80},end:{line:180,column:81}},loc:{start:{line:180,column:89},end:{line:181,column:17}},line:180},'44':{name:'(anonymous_44)',decl:{start:{line:182,column:47},end:{line:182,column:48}},loc:{start:{line:182,column:64},end:{line:186,column:17}},line:182},'45':{name:'(anonymous_45)',decl:{start:{line:198,column:25},end:{line:198,column:26}},loc:{start:{line:198,column:48},end:{line:209,column:1}},line:198},'46':{name:'(anonymous_46)',decl:{start:{line:200,column:40},end:{line:200,column:41}},loc:{start:{line:200,column:67},end:{line:208,column:5}},line:200},'47':{name:'(anonymous_47)',decl:{start:{line:202,column:39},end:{line:202,column:40}},loc:{start:{line:202,column:56},end:{line:207,column:9}},line:202},'48':{name:'(anonymous_48)',decl:{start:{line:211,column:13},end:{line:211,column:14}},loc:{start:{line:211,column:36},end:{line:213,column:1}},line:211},'49':{name:'startServer',decl:{start:{line:216,column:9},end:{line:216,column:20}},loc:{start:{line:216,column:23},end:{line:226,column:1}},line:216},'50':{name:'(anonymous_50)',decl:{start:{line:218,column:56},end:{line:218,column:57}},loc:{start:{line:218,column:68},end:{line:224,column:5}},line:218}},branchMap:{'0':{loc:{start:{line:45,column:25},end:{line:45,column:64}},type:'cond-expr',locations:[{start:{line:45,column:41},end:{line:45,column:57}},{start:{line:45,column:60},end:{line:45,column:64}}],line:45},'1':{loc:{start:{line:83,column:8},end:{line:84,column:38}},type:'if',locations:[{start:{line:83,column:8},end:{line:84,column:38}},{start:{line:83,column:8},end:{line:84,column:38}}],line:83},'2':{loc:{start:{line:91,column:8},end:{line:94,column:15}},type:'if',locations:[{start:{line:91,column:8},end:{line:94,column:15}},{start:{line:91,column:8},end:{line:94,column:15}}],line:91},'3':{loc:{start:{line:102,column:8},end:{line:105,column:15}},type:'if',locations:[{start:{line:102,column:8},end:{line:105,column:15}},{start:{line:102,column:8},end:{line:105,column:15}}],line:102},'4':{loc:{start:{line:112,column:8},end:{line:115,column:15}},type:'if',locations:[{start:{line:112,column:8},end:{line:115,column:15}},{start:{line:112,column:8},end:{line:115,column:15}}],line:112},'5':{loc:{start:{line:147,column:8},end:{line:150,column:9}},type:'if',locations:[{start:{line:147,column:8},end:{line:150,column:9}},{start:{line:147,column:8},end:{line:150,column:9}}],line:147},'6':{loc:{start:{line:215,column:16},end:{line:215,column:40}},type:'binary-expr',locations:[{start:{line:215,column:16},end:{line:215,column:32}},{start:{line:215,column:36},end:{line:215,column:40}}],line:215},'7':{loc:{start:{line:228,column:0},end:{line:233,column:1}},type:'if',locations:[{start:{line:228,column:0},end:{line:233,column:1}},{start:{line:228,column:0},end:{line:233,column:1}}],line:228}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0,'74':0,'75':0,'76':0,'77':0,'78':0,'79':0,'80':0,'81':0,'82':0,'83':0,'84':0,'85':0,'86':0,'87':0,'88':0,'89':0,'90':0,'91':0,'92':0,'93':0,'94':0,'95':0,'96':0,'97':0,'98':0,'99':0,'100':0,'101':0,'102':0,'103':0,'104':0,'105':0,'106':0,'107':0,'108':0,'109':0,'110':0,'111':0,'112':0,'113':0,'114':0,'115':0,'116':0,'117':0,'118':0,'119':0,'120':0,'121':0,'122':0,'123':0,'124':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0],'5':[0,0],'6':[0,0],'7':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();/**
 * Created by dannyyassine on 2017-04-23.
 */// set up ========================
let express=(++cov_sgy7scncl.s[0],require('express'));let app=(++cov_sgy7scncl.s[1],express());// create our app w/ express
let bodyParser=(++cov_sgy7scncl.s[2],require('body-parser'));let fs=(++cov_sgy7scncl.s[3],require('fs'));let nunjucks=(++cov_sgy7scncl.s[4],require('nunjucks'));let path=(++cov_sgy7scncl.s[5],require('path'));const routerManager=(++cov_sgy7scncl.s[6],require('./api/v1/routes'));const projectDataManager=(++cov_sgy7scncl.s[7],require('./api/v1/dataSource/ProjectDataManager'));// configuration =================
++cov_sgy7scncl.s[8];app.use(express.static(path.join(__dirname,'..','/public')));// set the static files location /public/img will be /img for users
++cov_sgy7scncl.s[9];app.use(express.static(path.join(__dirname,'..','/dist')));// set the static files location /public/img will be /img for users
++cov_sgy7scncl.s[10];app.use(express.static(path.join(__dirname,'..','/views')));// set the static files location /public/img will be /img for users
++cov_sgy7scncl.s[11];app.use(bodyParser.urlencoded({'extended':'true'}));// parse application/x-www-form-urlencoded
++cov_sgy7scncl.s[12];app.use(bodyParser.json());// parse application/json
++cov_sgy7scncl.s[13];routerManager.setup(app);++cov_sgy7scncl.s[14];projectDataManager.setup({dataPath:__dirname+'/data.json'});++cov_sgy7scncl.s[15];nunjucks.configure('views',{autoescape:true,express:app});function resetLogFile(){++cov_sgy7scncl.f[0];++cov_sgy7scncl.s[16];fs.writeFile('./src/log.txt','',function(){++cov_sgy7scncl.f[1];++cov_sgy7scncl.s[17];console.log('done');++cov_sgy7scncl.s[18];return 1;});// reset content
}function resetProgressiveLogFile(){++cov_sgy7scncl.f[2];++cov_sgy7scncl.s[19];fs.writeFile('./src/progressive-log.txt','',function(){++cov_sgy7scncl.f[3];++cov_sgy7scncl.s[20];return 1;});// reset content
}++cov_sgy7scncl.s[21];app.get('/api/data',function(req,res){++cov_sgy7scncl.f[4];++cov_sgy7scncl.s[22];fs.readFile('./src/data.json',(error,data)=>{++cov_sgy7scncl.f[5];let dataObject=(++cov_sgy7scncl.s[23],data!==null?(++cov_sgy7scncl.b[0][0],JSON.parse(data)):(++cov_sgy7scncl.b[0][1],data));++cov_sgy7scncl.s[24];console.log(dataObject);++cov_sgy7scncl.s[25];res.status(200).json({data:dataObject});});});++cov_sgy7scncl.s[26];app.get('/run',function(req,res){++cov_sgy7scncl.f[6];++cov_sgy7scncl.s[27];resetLogFile();const spawn=(++cov_sgy7scncl.s[28],require('child_process').spawn);const child=(++cov_sgy7scncl.s[29],spawn('sh',['./xcode_build_fabric.sh'],{cwd:'../'}));++cov_sgy7scncl.s[30];child.stdout.on('data',function(data){++cov_sgy7scncl.f[7];++cov_sgy7scncl.s[31];// console.log(data.toString());
fs.appendFile('./src/log.txt',data.toString(),err=>{++cov_sgy7scncl.f[8];});++cov_sgy7scncl.s[32];fs.appendFile('./src/progressive-log.txt',data.toString(),err=>{++cov_sgy7scncl.f[9];});});++cov_sgy7scncl.s[33];child.stderr.on('data',function(data){// console.log(data.toString());
++cov_sgy7scncl.f[10];});++cov_sgy7scncl.s[34];child.on('exit',function(code){++cov_sgy7scncl.f[11];++cov_sgy7scncl.s[35];console.log('child process exited with code '+code.toString());});++cov_sgy7scncl.s[36];console.log(child.pid);++cov_sgy7scncl.s[37];console.log(child);++cov_sgy7scncl.s[38];res.sendFile('index.html',{root:__dirname});});++cov_sgy7scncl.s[39];app.get('/run/log',(request,response)=>{++cov_sgy7scncl.f[12];++cov_sgy7scncl.s[40];fs.readFile('./src/log.txt',(error,data)=>{++cov_sgy7scncl.f[13];++cov_sgy7scncl.s[41];if(data){++cov_sgy7scncl.b[1][0];++cov_sgy7scncl.s[42];resetProgressiveLogFile();}else{++cov_sgy7scncl.b[1][1];}++cov_sgy7scncl.s[43];response.send(data.toString(),{'Content-Type':'text/plain'},200);});});++cov_sgy7scncl.s[44];app.get('/run-log',(request,response)=>{++cov_sgy7scncl.f[14];++cov_sgy7scncl.s[45];fs.readFile('./src/run-log.txt',(error,data)=>{++cov_sgy7scncl.f[15];++cov_sgy7scncl.s[46];if(data){++cov_sgy7scncl.b[2][0];++cov_sgy7scncl.s[47];fs.writeFile('./src/run-progressive-log.txt','',function(){++cov_sgy7scncl.f[16];++cov_sgy7scncl.s[48];return 1;});}else{++cov_sgy7scncl.b[2][1];}++cov_sgy7scncl.s[49];response.json({log:data.toString()},200);});});++cov_sgy7scncl.s[50];app.get('/progressive-log',(request,response)=>{++cov_sgy7scncl.f[17];++cov_sgy7scncl.s[51];fs.readFile('./src/progressive-log.txt',(error,data)=>{++cov_sgy7scncl.f[18];++cov_sgy7scncl.s[52];if(data){++cov_sgy7scncl.b[3][0];++cov_sgy7scncl.s[53];fs.writeFile('./src/progressive-log.txt','',function(){++cov_sgy7scncl.f[19];++cov_sgy7scncl.s[54];return 1;});}else{++cov_sgy7scncl.b[3][1];}++cov_sgy7scncl.s[55];response.send(data.toString(),{'Content-Type':'text/plain'},200);});});++cov_sgy7scncl.s[56];app.get('/run-progressive-log',(request,response)=>{++cov_sgy7scncl.f[20];++cov_sgy7scncl.s[57];fs.readFile('./src/run-progressive-log.txt',(error,data1)=>{++cov_sgy7scncl.f[21];++cov_sgy7scncl.s[58];if(data1){++cov_sgy7scncl.b[4][0];++cov_sgy7scncl.s[59];fs.writeFile('./src/run-progressive-log.txt','',function(){++cov_sgy7scncl.f[22];++cov_sgy7scncl.s[60];return 1;});}else{++cov_sgy7scncl.b[4][1];}++cov_sgy7scncl.s[61];fs.readFile("./src/data.json",(error,data)=>{++cov_sgy7scncl.f[23];let dataObject=(++cov_sgy7scncl.s[62],JSON.parse(data));++cov_sgy7scncl.s[63];response.json({log:data1.toString(),isRunning:dataObject.projects[0].isRunning});});});});++cov_sgy7scncl.s[64];app.get('/log',(request,response)=>{++cov_sgy7scncl.f[24];++cov_sgy7scncl.s[65];response.render('log.html');});++cov_sgy7scncl.s[66];app.get('/input',(request,response)=>{++cov_sgy7scncl.f[25];++cov_sgy7scncl.s[67];fs.readFile('./src/script.sh',(error,data)=>{++cov_sgy7scncl.f[26];++cov_sgy7scncl.s[68];response.render('input-script.html',{data:data.toString()});});});++cov_sgy7scncl.s[69];app.post('/submit-script',(request,response)=>{++cov_sgy7scncl.f[27];++cov_sgy7scncl.s[70];fs.writeFile('./src/script.sh','',err=>{++cov_sgy7scncl.f[28];++cov_sgy7scncl.s[71];fs.appendFile('./src/script.sh',request.body.text,err=>{++cov_sgy7scncl.f[29];++cov_sgy7scncl.s[72];response.json({'redirect':"http://localhost:3002/run-script"});});});});++cov_sgy7scncl.s[73];app.get('/run-script',(request,response)=>{++cov_sgy7scncl.f[30];++cov_sgy7scncl.s[74];fs.readFile("./src/data.json",(error,dataState)=>{++cov_sgy7scncl.f[31];let dataObject=(++cov_sgy7scncl.s[75],JSON.parse(dataState));++cov_sgy7scncl.s[76];if(dataObject.projects[0].isRunning===true){++cov_sgy7scncl.b[5][0];++cov_sgy7scncl.s[77];response.render('run-log.html',{job:dataObject.projects[0]});++cov_sgy7scncl.s[78];return;}else{++cov_sgy7scncl.b[5][1];}++cov_sgy7scncl.s[79];fs.writeFile('./src/run-log.txt','',function(){++cov_sgy7scncl.f[32];++cov_sgy7scncl.s[80];return 1;});++cov_sgy7scncl.s[81];fs.writeFile('./src/run-progressive-log.txt','',function(){++cov_sgy7scncl.f[33];++cov_sgy7scncl.s[82];return 1;});++cov_sgy7scncl.s[83];fs.readFile('./src/script.sh',(error,data)=>{++cov_sgy7scncl.f[34];const spawn=(++cov_sgy7scncl.s[84],require('child_process').spawn);const ls=(++cov_sgy7scncl.s[85],spawn('sh',['./src/script.sh'],{}));++cov_sgy7scncl.s[86];ls.stdout.on('data',function(data){++cov_sgy7scncl.f[35];++cov_sgy7scncl.s[87];fs.appendFile('./src/run-log.txt',data.toString(),err=>{++cov_sgy7scncl.f[36];});++cov_sgy7scncl.s[88];fs.appendFile('./src/run-progressive-log.txt',data.toString(),err=>{++cov_sgy7scncl.f[37];});});++cov_sgy7scncl.s[89];ls.stderr.on('data',function(data){++cov_sgy7scncl.f[38];++cov_sgy7scncl.s[90];fs.appendFile('./src/run-log.txt',data.toString(),err=>{++cov_sgy7scncl.f[39];});++cov_sgy7scncl.s[91];fs.appendFile('./src/run-progressive-log.txt',data.toString(),err=>{++cov_sgy7scncl.f[40];});});++cov_sgy7scncl.s[92];ls.on('exit',function(code){++cov_sgy7scncl.f[41];++cov_sgy7scncl.s[93];fs.appendFile('./src/run-log.txt',data.toString(),err=>{++cov_sgy7scncl.f[42];});++cov_sgy7scncl.s[94];fs.appendFile('./src/run-progressive-log.txt',data.toString(),err=>{++cov_sgy7scncl.f[43];});++cov_sgy7scncl.s[95];fs.readFile("./src/data.json",(error,data)=>{++cov_sgy7scncl.f[44];let dataObject=(++cov_sgy7scncl.s[96],JSON.parse(data));++cov_sgy7scncl.s[97];dataObject.projects[0].isRunning=false;++cov_sgy7scncl.s[98];fs.writeFile('./data.json',JSON.stringify(dataObject));});});++cov_sgy7scncl.s[99];dataObject.projects[0].pid=ls.pid;++cov_sgy7scncl.s[100];dataObject.projects[0].isRunning=true;++cov_sgy7scncl.s[101];fs.writeFile('./src/data.json',JSON.stringify(dataObject));++cov_sgy7scncl.s[102];response.render('run-log.html',{job:dataObject.projects[0]});});});});++cov_sgy7scncl.s[103];app.post('/:pid/cancel',(request,response)=>{++cov_sgy7scncl.f[45];const exec=(++cov_sgy7scncl.s[104],require('child_process').exec);++cov_sgy7scncl.s[105];exec('ps -9 '+request.params.pid,(error,stdout,stderr)=>{++cov_sgy7scncl.f[46];++cov_sgy7scncl.s[106];console.log(error,stdout,stderr);++cov_sgy7scncl.s[107];fs.readFile("./src/data.json",(error,data)=>{++cov_sgy7scncl.f[47];let dataObject=(++cov_sgy7scncl.s[108],JSON.parse(data));++cov_sgy7scncl.s[109];dataObject.projects[0].isRunning=false;++cov_sgy7scncl.s[110];fs.writeFile('./src/data.json',JSON.stringify(dataObject));++cov_sgy7scncl.s[111];response.status(200).end();});});});++cov_sgy7scncl.s[112];app.get('*',(request,response)=>{++cov_sgy7scncl.f[48];++cov_sgy7scncl.s[113];response.sendFile('index.html',{root:path.join(__dirname,'..','views')});});++cov_sgy7scncl.s[114];app.set('port',(++cov_sgy7scncl.b[6][0],process.env.PORT)||(++cov_sgy7scncl.b[6][1],3002));function startServer(){++cov_sgy7scncl.f[49];// listen (start app with node server.js) ======================================
var server=(++cov_sgy7scncl.s[115],app.listen(app.get('port'),'0.0.0.0',function(){++cov_sgy7scncl.f[50];++cov_sgy7scncl.s[116];console.log("*\n*");++cov_sgy7scncl.s[117];console.log("/****************************************/");++cov_sgy7scncl.s[118];console.log('server listening on port '+server.address().port);++cov_sgy7scncl.s[119];console.log("/****************************************/");++cov_sgy7scncl.s[120];console.log("*\n*");}));++cov_sgy7scncl.s[121];return app;}++cov_sgy7scncl.s[122];if(require.main===module){++cov_sgy7scncl.b[7][0];++cov_sgy7scncl.s[123];// app.js runs directly
startServer();}else{++cov_sgy7scncl.b[7][1];++cov_sgy7scncl.s[124];module.exports=app;}